{"version":3,"sources":["webpack:///src/environments/environment.ts","webpack:///src/app/simulation/simulation.component.html","webpack:///src/app/simulation/simulation.component.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["environment","production","SimulationComponent","_main","name","uri","_components","flatten","JSON","parse","window","addEventListener","event","console","log","data","main","undefined","json","interp","interps","stack","length","curr","pop","push","subnodes","reverse","child","nCols","streams","instantValues","changeColumns","component","stream","type","value","target","checked","Number","parseInt","parseFloat","splice","i","typeInfo","slice","Array","mainComponent","inputStreams","filter","time","object","vscode","postMessage","command","args","stringify","columnsChangedEvent","simulate","AppComponent","title","AppModule","routes","AppRoutingModule","forRoot","bootstrapModule","err","error","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id"],"mappings":"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","file":"main-es5.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","<div class=\"run\">\n  <label>Number of columns:</label>\n  <input class=\"textbox\" type=\"number\" min=\"1\" (change)=\"columnsChangedEvent($event)\" [attr.value]=\"numCols()\">\n  <button class=\"button\" (click)=\"simulate()\">Simulate</button>\n</div>\n\n<div class=\"simulation\">\n  <div *ngFor=\"let component of components\">\n    <label class=\"componentName\">{{component.blockType}}: {{component.name}}</label>\n    <table class=\"table\">\n      <thead>\n        <tr class=\"monaco-list\">\n          <th class=\"streamName\">Time</th>\n          <th *ngFor=\"let value of component.streams[0].instantValues\">{{value[0]}}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class=\"monaco-list\" *ngFor=\"let stream of component.streams\">\n          <td class=\"streamName\" [ngSwitch]=\"stream.class\">\n            <i *ngSwitchCase=\"&quot;input&quot;\" class=\"bi bi-box-arrow-in-right inputIcon\"></i>\n            <i *ngSwitchCase=\"&quot;output&quot;\" class=\"bi bi-box-arrow-right outputIcon\"></i>\n            <i *ngSwitchCase=\"&quot;local&quot;\" class=\"bi bi-geo-fill localIcon\"></i>\n            {{stream.name}} ({{stream.type}})\n          </td>\n          <td *ngFor=\"let value of stream.instantValues\" [ngSwitch]=\"stream.type\">\n            <input class=\"checkbox\" *ngSwitchCase=\"&quot;bool&quot;\" [disabled]=\"isDisabled(component, stream)\"\n              (change)=\"inputChanged(stream.type, value, $event)\" type=\"checkbox\" [checked]=\"value[1]\">\n            <input class=\"textbox\" *ngSwitchDefault [disabled]=\"isDisabled(component, stream)\" type=\"text\"\n              (change)=\"inputChanged(stream.type, value, $event)\" [attr.value]=\"value[1]\">\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Interpretation, Stream } from 'src/assets/Interpretation';\nimport { VSCode } from 'src/assets/VSCode';\n\n@Component({\n  selector: 'app-simulation',\n  templateUrl: './simulation.component.html',\n  styleUrls: ['./simulation.component.css']\n})\nexport class SimulationComponent implements OnInit {\n\n  private _main: any;\n  private _components: Interpretation[];\n\n  public constructor() {\n    this._main = { name: \"Stopwatch\", uri: \"\" };\n    // this.components = [];\n    this._components = this.flatten(JSON.parse(`[\n    {\n      \"blockType\" : \"node\",\n      \"name\" : \"Stopwatch\",\n      \"streams\" :\n      [\n        {\n          \"name\" : \"toggle\",\n          \"type\" : \"bool\",\n          \"class\" : \"input\",\n          \"instantValues\" : []\n        },\n        {\n          \"name\" : \"reset\",\n          \"type\" : \"bool\",\n          \"class\" : \"input\",\n          \"instantValues\" : []\n        },\n        {\n          \"name\" : \"count\",\n          \"type\" : \"int\",\n          \"class\" : \"output\",\n          \"instantValues\" : []\n        },\n        {\n          \"name\" : \"running\",\n          \"type\" : \"bool\",\n          \"class\" : \"local\",\n          \"instantValues\" : []\n        }\n      ],\n      \"subnodes\" :\n      [\n        {\n          \"blockType\" : \"node\",\n          \"name\" : \"Count\",\n          \"streams\" :\n          [\n            {\n              \"name\" : \"X\",\n              \"type\" : \"bool\",\n              \"class\" : \"input\",\n              \"instantValues\" : []\n            },\n            {\n              \"name\" : \"N\",\n              \"type\" : \"int\",\n              \"class\" : \"output\",\n              \"instantValues\" : []\n            }\n          ],\n          \"subnodes\" :\n          [\n            {\n              \"blockType\" : \"function\",\n              \"name\" : \"toInt\",\n              \"streams\" :\n              [\n                {\n                  \"name\" : \"X\",\n                  \"type\" : \"bool\",\n                  \"class\" : \"input\",\n                  \"instantValues\" : []\n                },\n                {\n                  \"name\" : \"N\",\n                  \"type\" : \"subrange\",\n                  \"typeInfo\" :\n                  {\n                    \"min\" : 0,\n                    \"max\" : 1\n                  },\n                  \"class\" : \"output\",\n                  \"instantValues\" : []\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"blockType\" : \"node\",\n          \"name\" : \"Increased\",\n          \"streams\" :\n          [\n            {\n              \"name\" : \"N\",\n              \"type\" : \"int\",\n              \"class\" : \"input\",\n              \"instantValues\" : []\n            },\n            {\n              \"name\" : \"B\",\n              \"type\" : \"bool\",\n              \"class\" : \"output\",\n              \"instantValues\" : []\n            }\n          ]\n        },\n        {\n          \"blockType\" : \"node\",\n          \"name\" : \"Since\",\n          \"streams\" :\n          [\n            {\n              \"name\" : \"X\",\n              \"type\" : \"bool\",\n              \"class\" : \"input\",\n              \"instantValues\" : []\n            },\n            {\n              \"name\" : \"Y\",\n              \"type\" : \"bool\",\n              \"class\" : \"input\",\n              \"instantValues\" : []\n            },\n            {\n              \"name\" : \"Z\",\n              \"type\" : \"bool\",\n              \"class\" : \"output\",\n              \"instantValues\" : []\n            }\n          ]\n        },\n        {\n          \"blockType\" : \"node\",\n          \"name\" : \"Stable\",\n          \"streams\" :\n          [\n            {\n              \"name\" : \"N\",\n              \"type\" : \"int\",\n              \"class\" : \"input\",\n              \"instantValues\" : []\n            },\n            {\n              \"name\" : \"B\",\n              \"type\" : \"bool\",\n              \"class\" : \"output\",\n              \"instantValues\" : []\n            }\n          ]\n        },\n        {\n          \"blockType\" : \"node\",\n          \"name\" : \"Since\",\n          \"streams\" :\n          [\n            {\n              \"name\" : \"X\",\n              \"type\" : \"bool\",\n              \"class\" : \"input\",\n              \"instantValues\" : []\n            },\n            {\n              \"name\" : \"Y\",\n              \"type\" : \"bool\",\n              \"class\" : \"input\",\n              \"instantValues\" : []\n            },\n            {\n              \"name\" : \"Z\",\n              \"type\" : \"bool\",\n              \"class\" : \"output\",\n              \"instantValues\" : []\n            }\n          ]\n        },\n        {\n          \"blockType\" : \"function\",\n          \"name\" : \"even\",\n          \"streams\" :\n          [\n            {\n              \"name\" : \"N\",\n              \"type\" : \"int\",\n              \"class\" : \"input\",\n              \"instantValues\" : []\n            },\n            {\n              \"name\" : \"B\",\n              \"type\" : \"bool\",\n              \"class\" : \"output\",\n              \"instantValues\" : []\n            },\n            {\n              \"name\" : \"x\",\n              \"type\" : \"int\",\n              \"class\" : \"local\",\n              \"instantValues\" : []\n            }\n          ]\n        },\n        {\n          \"blockType\" : \"node\",\n          \"name\" : \"Count\",\n          \"streams\" :\n          [\n            {\n              \"name\" : \"X\",\n              \"type\" : \"bool\",\n              \"class\" : \"input\",\n              \"instantValues\" : []\n            },\n            {\n              \"name\" : \"N\",\n              \"type\" : \"int\",\n              \"class\" : \"output\",\n              \"instantValues\" : []\n            }\n          ],\n          \"subnodes\" :\n          [\n            {\n              \"blockType\" : \"function\",\n              \"name\" : \"toInt\",\n              \"streams\" :\n              [\n                {\n                  \"name\" : \"X\",\n                  \"type\" : \"bool\",\n                  \"class\" : \"input\",\n                  \"instantValues\" : []\n                },\n                {\n                  \"name\" : \"N\",\n                  \"type\" : \"subrange\",\n                  \"typeInfo\" :\n                  {\n                    \"min\" : 0,\n                    \"max\" : 1\n                  },\n                  \"class\" : \"output\",\n                  \"instantValues\" : []\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]`)[0]);\n  }\n\n  public get components(): Interpretation[] {\n    return this._components;\n  }\n\n  public ngOnInit(): void {\n    // Handle the message inside the webview\n    window.addEventListener('message', event => {\n      console.log(event);\n      if (event.data.main !== undefined && event.data.json !== undefined) {\n        this._main = event.data.main;\n        this._components = this.flatten(JSON.parse(event.data.json)[0]);\n      }\n    });\n  }\n\n  private flatten(interp: Interpretation): Interpretation[] {\n    console.log(interp);\n    let interps: Interpretation[] = [];\n    let stack: Interpretation[] = [interp];\n    while (stack.length !== 0) {\n      let curr: Interpretation = stack.pop()!;\n      interps.push(curr);\n      if (curr.subnodes !== undefined) {\n        for (let child of curr.subnodes.reverse()) {\n          stack.push(child);\n        }\n      }\n    }\n    console.log(interps);\n    return interps;\n  }\n\n  public numCols(): number {\n    let nCols = this._components[0].streams[0].instantValues.length;\n    if (nCols == 0) {\n      nCols = 3;\n      this.changeColumns(nCols);\n    }\n    return nCols;\n  }\n\n  public isDisabled(component: Interpretation, stream: Stream): boolean {\n    return component !== this._components[0] || stream.class !== \"input\";\n  }\n\n  public inputChanged(type: string, value: (boolean | number | string)[], event: Event): void {\n    switch (type) {\n      case \"bool\":\n        value[1] = (event.target as HTMLInputElement).checked;\n        break;\n      case \"int\":\n        value[1] = Number.parseInt((event.target as HTMLInputElement).value);\n        break;\n      case \"real\":\n        value[1] = Number.parseFloat((event.target as HTMLInputElement).value);\n        break;\n      case \"enum\":\n        value[1] = (event.target as HTMLInputElement).value;\n        break;\n    }\n  }\n\n  public columnsChangedEvent(event: Event): void {\n    this.changeColumns(Number.parseInt((event.target as HTMLInputElement).value));\n  }\n\n  private changeColumns(nCols: number): void {\n    if (nCols < this._components[0].streams[0].instantValues.length) {\n      for (let component of this._components) {\n        for (let stream of component.streams) {\n          stream.instantValues.splice(nCols);\n        }\n      }\n    }\n    else {\n      for (let stream of this._components[0].streams) {\n        for (let i = stream.instantValues.length; i < nCols; ++i) {\n          if (stream.class === \"input\") {\n            switch (stream.type) {\n              case \"bool\":\n                stream.instantValues.push([i, false]);\n                break;\n              case \"int\":\n                stream.instantValues.push([i, 0]);\n                break;\n              case \"real\":\n                stream.instantValues.push([i, 0.0]);\n                break;\n              case \"enum\":\n                stream.instantValues.push([i, stream.typeInfo[0]]);\n                break;\n            }\n          } else {\n            stream.instantValues.push([i]);\n          }\n        }\n      }\n      for (let component of this._components.slice(1)) {\n        for (let stream of component.streams) {\n          for (let i = stream.instantValues.length; i < nCols; ++i) {\n            stream.instantValues.push([i]);\n          }\n        }\n      }\n    }\n  }\n\n  public simulate(): void {\n    let json: any[] = new Array();\n    let mainComponent: Interpretation = this._components[0];\n    let inputStreams: Stream[] = mainComponent.streams.filter(stream => stream.class === \"input\");\n    let time: number = this._components[0].streams[0].instantValues.length;\n    for (let i = 0; i < time; ++i) {\n      let object: any = {};\n      for (let stream of inputStreams!) {\n        object[stream.name] = stream.instantValues[i][1];\n      }\n      json.push(object);\n    }\n    vscode.postMessage({ command: \"kind2/interpret\", args: [this._main, JSON.stringify(json)] });\n  }\n}\ndeclare const vscode: VSCode;\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'kind2-simulation';\n}\n","<router-outlet>\n  <app-simulation>\n  </app-simulation>\n</router-outlet>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { SimulationComponent } from './simulation/simulation.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SimulationComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}